<!DOCTYPE html>
<html lang="en">

<head>
    <% if (process.env.NODE_ENV==='production' ) { %>
        <%- partials.gtag %>
            <% } %>
                <%- partials.head %>
                    <meta property="og:updated_time" content="<%= new Date().toISOString() %>" />

</head>

<body>
    <div class="overlay"
        style="background-color:#333; position:absolute; top:0px; left:0px; width:100%; height:100%; z-index:2000;">
    </div>
    <div class="container">
        <%- partials.header %>
            <script type='application/ld+json'>
            {
                "@context": "http://www.schema.org",
                "@type": "BarOrPub",
                "name": "Beersheep Garden",
                "priceRange": "$",
                "address": {
                    "@type": "PostalAddress",
                    "streetAddress": "Kneginje Zorke 3",
                    "addressLocality": "Belgrade",
                    "postalCode": "11000",
                    "addressCountry": "Serbia"
                },
                "hasMap": "https://maps.app.goo.gl/z2qo5YZfdFaiDu4n7",
                "openingHours": "Mo 16:00-01:00 Tu 16:00-01:00 We 16:00-01:00 Th 16:00-01:00 Fr 16:00-01:00 Sa 16:00-01:00 Su 15:00-23:00",
                "geo": {
                    "@type": "GeoCoordinates",
                    "latitude": "44.8002398",
                    "longitude": "20.4665677"
                }
                <% if (beers.data && beers.data.length> 0) { %>,
                    "servesCuisine": ["Beer"],
                    "hasMenu": {
                        "@type": "Menu",
                        "name": "Taplist",
                        "description": "Beers on tap",
                        "hasMenuSection": [
                            {
                                "@type": "MenuSection",
                                "name": "Draft Beers",
                                "description": "Current beers on tap",
                                "hasMenuItem": [
                                        <% beers.data.forEach(beer=> { %>
                                            {
                                                "@type": "MenuItem",
                                                "name": "<%= beer.name %>",
                                                "description": "<%= beer.description %>",
                                                "offers": {
                                                    "@type": "Offer",
                                                    "priceCurrency": "RSD",
                                                    "priceSpecification": [
                                                        {
                                                            "@type": "UnitPriceSpecification",
                                                            "price": "<%= beer.price_small %>",
                                                            "unitCode": "LTR",
                                                            "referenceQuantity": {
                                                                "@type": "QuantitativeValue",
                                                                "value": 0.33,
                                                                "unitCode": "LTR"
                                                            }
                                                        },
                                                        {
                                                            "@type": "UnitPriceSpecification",
                                                            "price": "<%= beer.price_big %>",
                                                            "unitCode": "LTR",
                                                            "referenceQuantity": {
                                                                "@type": "QuantitativeValue",
                                                                "value": 0.5,
                                                                "unitCode": "LTR"
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                            <% if (beers.data.indexOf(beer) !== beers.data.length - 1) { %>,<% } %>
                                            <% }) %>
                                ]
                            }
                        ]
                    }
                    <% } %>
            }
        </script>
            <div class="beer-grid">
                <% if (beers.data && beers.data.length> 0) { %>
                    <% beers.data.forEach(beer=> { %>
                        <div class="beer-snippet">
                            <div class="beer-header">
                                <div class="title-row">
                                    <h2 class="beer-name">
                                        <%= beer.tap_num %>. <%= beer.name %>
                                    </h2>
                                    <span class="abv-badge">
                                        <%= beer.abv %>% ABV
                                    </span>
                                </div>
                                <div class="beer-info">
                                    <div class="brewery">
                                        <%= beer.brewery %>, <%= beer.country %>
                                    </div>
                                    <div class="beer-style">
                                        <%= beer.style %>
                                    </div>
                                </div>
                            </div>
                            <div class="beer-content">
                                <div class="beer-image">
                                    <% if(beer.image_name){ %>
                                        <img src="/img/<%= beer.image_name %>.webp" alt="<%= beer.name %>" />
                                        <% } else if (beer.image_url) { %>
                                            <img src="<%= beer.image_url %>" alt="<%= beer.name %>" />
                                            <% } else { %>
                                                <div class="placeholder"><i class="fas fa-beer"></i></div>
                                                <% } %>
                                </div>
                                <div class="beer-details">
                                    <p class="beer-description">
                                        <%= beer.description %>
                                    </p>
                                    <div class="beer-prices">
                                        <div class="price-option">
                                            <div class="size-price">
                                                <span class="size">0.33 l:</span>
                                                <span class="price">
                                                    <%= beer.price_small %> RSD
                                                </span>
                                                <span class="size">0.5 l:</span>
                                                <span class="price">
                                                    <%= beer.price_big %> RSD
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <% }) %>
                            <% } else { %>
                                <p>No beers available at the moment. Please check back later!</p>
                                <% } %>
            </div>
    </div>
    <%- partials.footer %>
</body>

</html>